## Copyright (C) 2008 Dirk-Jan C. Binnema <djcb@djcbsoftware.nl>
##
## This program is free software; you can redistribute it and/or modify it
## under the terms of the GNU General Public License as published by the
## Free Software Foundation; either version 3, or (at your option) any
## later version.
##
## This program is distributed in the hope that it will be useful,
## but WITHOUT ANY WARRANTY; without even the implied warranty of
## MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
## GNU General Public License for more details.
##
## You should have received a copy of the GNU General Public License
## along with this program; if not, write to the Free Software Foundation,
## Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.  

include $(top_srcdir)/gtest.mk

INCLUDES=					\
	-I ${top_srcdir}/			\
	$(MU_GLIB2_CFLAGS)			\
	-DABS_SRCDIR=\"${abs_srcdir}\"		

noinst_PROGRAMS= $(TEST_PROGS) 

TEST_PROGS += test-index
test_index_SOURCES = test-index.c
test_index_LDADD=				\
	$(MU_GLIB2_LIBS)			\
	${top_srcdir}/index/libmuindex.la			


TEST_PROGS += test-reindex
test_reindex_SOURCES = test-reindex.c
test_reindex_LDADD=				\
	$(MU_GLIB2_LIBS)			\
	${top_srcdir}/index/libmuindex.la			

# note the question marks; make does not like files with ':'...
# 11 messages, the '.ignore' message should be ignored when indexing
EXTRA_DIST=							\
	TestMaildir/tmp/1220863087.12663.ignore			\
	TestMaildir/new/1220863087.12663_9.mindcrime		\
	TestMaildir/new/1220863087.12663_25.mindcrime		\
	TestMaildir/new/1220863087.12663_21.mindcrime		\
	TestMaildir/new/1220863087.12663_23.mindcrime		\
	TestMaildir/cur/1220863087.12663_5.mindcrime?2,S	\
	TestMaildir/cur/1220863087.12663_7.mindcrime?2,RS	\
	TestMaildir/cur/1220863087.12663_15.mindcrime?2,PS	\
	TestMaildir/cur/1220863087.12663_19.mindcrime?2,S	\
	TestMaildir/cur/1220863042.12663_1.mindcrime?2,S	\
	TestMaildir/cur/1220863060.12663_3.mindcrime?2,S